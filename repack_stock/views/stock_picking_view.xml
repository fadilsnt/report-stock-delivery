<odoo>

    <record id="view_picking_form_repack_tree" model="ir.ui.view">
        <field name="name">stock.picking.form.repack.tree</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_form"/>
        <field name="arch" type="xml">

            <!-- Tambah Page Repack -->
            <xpath expr="//sheet/notebook" position="inside">

                <page string="Repack">
                    <!-- Button Repack -->
                    <div class="oe_button_box mt16">

                        <button name="action_repack"
                                type="object"
                                string="Proses Repack"
                                class="btn-primary"
                                invisible="is_repack_done"/>

                    </div>

                    <div invisible="not is_repack_done">
                        <span class="text-success">
                            âœ” Repack sudah diproses
                        </span>
                    </div>

                    <!-- flag invisible -->
                    <field name="is_repack_done" invisible="1"/>

                    <!-- Tree Repack Lines -->
                    <field name="repack_line_ids">
                        <list editable="bottom">

                            <field name="product_a_id"/>
                            <field name="qty_a"/>

                            <field name="product_b_id"/>
                            <field name="qty_b"/>

                        </list>
                    </field>

                    

                </page>

            </xpath>

        </field>
    </record>

</odoo>
